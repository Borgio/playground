/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

group = 'io.example.dual'
version = '1.0'

allprojects {

    apply plugin: 'java'
    apply plugin: 'maven-publish'
}

subprojects {
}

publishing {

    publications {

        api(MavenPublication) {

            groupId 'io.example.dual.api'
            artifactId 'dual-api'

            from subprojects.components.java

//            artifact srcJar {
//
//                classifier "sources"
//            }
//
//            pom.withXml {
//
//                asNode().appendNode('description', 'Something that will be inserted as description')
//            }
        }

        runtime(MavenPublication) {

            groupId 'io.example.dual.rt'
            artifactId 'dual-rt'

//            from components.java
//
//            artifact srcJar {
//
//                classifier "sources"
//            }
//
//            pom.withXml {
//
//                asNode().appendNode('description', 'Something that will be inserted as description')
//            }
        }

    }

    repositories {

        mavenLocal()

//        maven {
//            url experimentalRepositoryUrl
//            credentials {
//                username experimentalRepositoryUser
//                password experimentalRepositoryPassword
//            }
//            authentication {
//                basic(BasicAuthentication)
//            }
//        }
    }
}

task util {

    sourceSets.each { println it.name }
    subprojects.each { println it.name }

}
