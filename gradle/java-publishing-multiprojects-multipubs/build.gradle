/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

group = 'io.example'
version = '1.0'

allprojects {
}

subprojects {

    apply plugin: 'java'

    task sources(type: Copy) {

        from 'src/main/java'
        into parent.buildDir.name + "/sources"
    }
}

task artifacts {

    dependsOn ':api-one:sources', ':api-two:sources', ':rt-one:sources', ':rt-two:sources'
}

//task classJar(type: Jar) {
//
//    println "executing classJar"
//}
//
//task sourceJar(type: Jar) {
//
//    println "executing sourceJar"
//}
//
//task obfuscatedClassJar(type: Jar) {
//
//    println "executing obfuscatedClassJar"
//}
//
////
//// Artifact aggregation and publishing is done at the root project level only
////
//publishing {
//
//    publications {
//
//        api(MavenPublication) {
//
//            groupId 'io.example.dual.api'
//            artifactId 'dual-api'
//
//            artifact classJar
//            artifact sourceJar {
//
//                classifier "sources"
//                extension "jar"
//            }
//        }
//
//        runtime(MavenPublication) {
//
//            groupId 'io.example.dual.rt'
//            artifactId 'dual-rt'
//            artifact obfuscatedClassJar
//        }
//    }
//
//    repositories {
//
//        mavenLocal()
//    }
//}
