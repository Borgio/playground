

subprojects {

    task t {

        doFirst {

            println "executing " + name + " in " + project.name
        }
    }
}

task allt {

    dependsOn ':subproject-A:t', ':subproject-B:t'

    doFirst {

        println "Tasks in Task Execution Graph, in execution order: " + gradle.taskGraph.allTasks

        println "executing " + name + " in " + project.name
    }
}